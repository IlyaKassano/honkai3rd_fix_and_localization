
#制造武装人偶#
hk648_robot = {
	optimize_memory
	create_species = {
		name = Armed puppets
		class = MACHINE
		portrait = "hkrobot1"
		traits = {
			trait = trait_mechanical
			trait = trait_hkrobot
			trait = trait_hkrobot_1_lock
			trait = trait_hkrobot_2_lock
		}
		effect = {
			save_global_event_target_as = hk648_robot_species
		}
		homeworld = capital_scope
	}
	capital_scope= {
		while = {
			count = 3
			create_pop = {
				species = event_target:hk648_robot_species
			}
		}
	}
}

#解锁作战模块
hk648_robot_w_unlock = {
	optimize_memory
	every_owned_pop = {
		limit = {
			species = {
				has_trait = trait_hkrobot_2_lock
			}
		}
		modify_species = {
			remove_trait = trait_hkrobot_2_lock
		}
		effect = {
			save_global_event_target_as = hk648_robot_species
		}
	}
}

#解锁科研模块
hk648_robot_t_unlock = {
	optimize_memory
	every_owned_pop = {
			limit = {
				species = {
					has_trait = trait_hkrobot_1_lock
				}
			}
			modify_species = {
				remove_trait = trait_hkrobot_1_lock
			}
		}
		effect = {
			save_global_event_target_as = hk648_robot_species
		}
	}
}

#逐火之蛾人类
hk648_moth_human = {
	optimize_memory
	every_owned_pop = {
		limit = {
			species = {
				has_trait = trait_valkyries
			}
		}
		modify_species = {
			remove_trait = trait_love_energy
			remove_trait = trait_hk648_minerals
			remove_trait = trait_aichan
			remove_trait = trait_abyss_flower
			remove_trait = trait_academy_city
			remove_trait = trait_parliament
			remove_trait = trait_military
			remove_trait = trait_schariac
			remove_trait = trait_kaslana
			remove_trait = trait_apocalypse
			remove_trait = trait_hksh
			remove_trait = trait_rhzs
			remove_trait = trait_yuri
			remove_trait = trait_internal_strife
			
			add_trait = trait_parliament
			add_trait = trait_hksh
			add_trait = trait_rhzs
		}
	}
}
