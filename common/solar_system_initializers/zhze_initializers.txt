
hk648_moth_system = {
	name = "NAME_moth_Sol"

	class = "sc_g"
	
	#小行星带
	asteroid_belt = {
		type = rocky_asteroid_belt
		radius = 145
	}
	asteroid_belt = {
		type = icy_asteroid_belt
		radius = 290
	}

	flags = { hk648_moth_system }

	#usage = custom_empire

	init_effect = {
		every_neighbor_system = {
			set_star_flag = empire_cluster
			every_neighbor_system = {
				set_star_flag = empire_cluster
			}
		}
		generate_home_system_resources = yes
		#save_global_event_target_as = hk648_moth_system
		set_star_flag = sealed_system
	}

	planet = {
		name = "NAME_moth_sol"
		class = "pc_g_star"
		orbit_distance = 0
		orbit_angle = 1
		size = 30
		has_ring = no
	}

	planet = {
		name = "NAME_moth_Mercury"
		class = "pc_molten"
		orbit_distance = 40
		orbit_angle = 15
		size = 10
		has_ring = no
	}

	planet = {
		name = "NAME_moth_Venus"
		class = "pc_toxic"
		orbit_distance = 25
		orbit_angle = 125
		size = 20
		has_ring = no
	}

	planet = {
		name = "NAME_moth_Earth"
		class = "pc_continental"
		orbit_distance = 25
		orbit_angle = 120
		size = 18
		starting_planet = yes
		has_ring = no
		entity = "continental_planet_earth_entity"
		deposit_blockers = none
		modifiers = none
		flags = { planet_earth }

		init_effect = {
			
			#物种
			create_species = {
				name = "NAME_hk648_robot"
				class = MACHINE
				portrait = "hkrobot1"
				traits = {
					trait = trait_mechanical
				}
				effect = {
					save_global_event_target_as = hk648_robot_species
				}
				homeworld = capital_scope
			}
			if = {
				limit = {
					OR = {
						has_global_flag = honkai_ai_country_yes
						has_global_flag = honkai_player_country_yes
					}
				}
				random_country = {
					limit = {
						has_authority = auth_schicksal
					}
					every_owned_pop = {
						limit = {
							#is_same_species = root
							species = {  
								has_trait = trait_valkyries
							} 
						}
						species = { save_event_target_as = hk648_moth_species }
					}
				}
			}
			else = {
				create_species = {
					name = "NAME_hk648_human"
					class = VAL
					portrait = "valkyries1"
					traits = {
						trait = trait_valkyries
					}
					effect = {
						save_event_target_as = hk648_moth_species
					}
				}
			}
			
			#国家
			create_country = {
				
				name = "NAME_hk648_fallen_moth"
				#type = hk648_moth_fallen_empire
				type = fallen_empire
				ignore_initial_colony_error = yes
				authority = auth_dictatorial
				room = "personality_fallen_empire_moth_room"
				
				civics = {
					civic = civic_moth
					civic = civic_moth_fallen
				}
				
				species = event_target:hk648_moth_species
				ethos = {
					ethic = ethic_xenophobe
					ethic = ethic_fanatic_materialist
				}
				
				name_list = "HUMAN1"
				origin = "origin_ark_moth2"
				
				
				effect = {
					
					exclusive_diplomacy_module = { contact_rule = on_action_only }
					
					set_global_flag = hk648_fallen_moth_yes
					#逐火之蛾国家目标
					save_global_event_target_as = hk648_fallen_empire_moth
					solar_system = {
						create_starbase = {
							owner = event_target:hk648_fallen_empire_moth
							size = "starbase_citadel"
							module = "shipyard"
							module = "shipyard"
							module = "shipyard"
							module = "shipyard"
							building = "colossus_yards"
							building = "titan_yards"
						}
					}
					#add_global_ship_design = ""
					#give_technology = {
					#	
					#}
					create_leader = {
						class = scientist
						species = event_target:hk648_moth_species
						name = "Plums"
						traits = {
							trait = leader_trait_mei
						}
						skill = 10
					}
					last_created_leader = {
						save_global_event_target_as = mei
						set_age = 52232
						set_is_female = yes
					}
					assign_leader = last_created_leader
					random_owned_leader = { 
						limit = {
							leader_class = ruler
						}
						add_trait =leader_trait_mei
						add_trait = leader_trait_ruler_chosen
					}
					set_policy = {
						policy = artificial_intelligence_policy
						option = ai_full_rights
						cooldown = yes
					}
					
					add_global_ship_design = "NAME_Seeder"	  
					add_global_ship_design = "NAME_Builder"   
					add_global_ship_design = "NAME_hk648_moonlight_warship"   
					add_global_ship_design = "NAME_fallen_moth_warship_t"     
					add_global_ship_design = "NAME_fallen_moth_warship_l"  
					add_global_ship_design = "NAME_fallen_moth_warship_s"	  
					
					set_graphical_culture = fallen_empire_03
				}
				
				flag = {
					icon= {
						category = "tm"
						file = "flag_moth.dds"
					}
					background= {
						category = "backgrounds"
						file = "00_solid.dds"
					}
					colors={
						"orange"
						"orange"
						"null"
						"null"
					}
				}
			}
			
			#星球
			set_owner = event_target:hk648_fallen_empire_moth
			while = {
				count = 50
				create_pop = {
					species = event_target:hk648_moth_species
				}
			}
			while = {
				count = 27
				create_pop = {
					species = event_target:hk648_robot_species
				}
			}
			#建筑与区划
			while = {
				count = 18
				add_district = district_hk648_moth_city
			}
			add_building = building_hk648_moth_Parliament
			add_building = building_hk648_moth_fortress
			add_building = building_hk648_moth_world_key
			add_building = building_hk648_moth_honkai_inhibitor
			
			add_building = building_hk648_moth_singularity
			add_building = building_hk648_moth_singularity
			add_building = building_hk648_moth_singularity
			add_building = building_hk648_moth_singularity
			
			add_building = building_hk648_moth_moonlight_throne
			add_building = building_hk648_moth_moonlight_throne
			add_building = building_hk648_moth_moonlight_throne
			add_building = building_hk648_moth_moonlight_throne
			
			save_global_event_target_as = hk648_moth_earth
		}
	}

		moon = {
			name = "NAME_moth_Luna"
			class = "pc_barren_cold"
			size = 5
			orbit_distance = 12
			orbit_angle = 40
			has_ring = no
			entity = "cold_barren_planet_luna_entity"
		}

	planet = {
		name = "NAME_moth_Mars"
		class = "pc_barren"
		orbit_distance = 25
		orbit_angle = 60
		size = 13
		has_ring = no
		entity = "barren_planet_mars_entity"

		init_effect = {
			add_modifier = {
				modifier = "terraforming_candidate"
				days = -1
			}
		}
	}

	planet = {
		name = "NAME_moth_1_Ceres"
		class = "pc_asteroid"
		orbit_distance = 30
		orbit_angle = -210
		size = 5
		has_ring = no
	}

	planet = {
		name = "NAME_moth_2_Pallas"
		class = "pc_asteroid"
		orbit_distance = 0
		orbit_angle = -95
		size = 5
		has_ring = no
	}

	planet = {
		name = "NAME_moth_3_Juno"
		class = "pc_asteroid"
		orbit_distance = 0
		orbit_angle = 285
		size = 5
		has_ring = no
	}

	planet = {
		name = "NAME_moth_4_Vesta"
		class = "pc_asteroid"
		orbit_distance = 0
		orbit_angle = -80
		size = 5
		has_ring = no
	}

	planet = {
		name = "NAME_moth_Jupiter"
		class = "pc_gas_giant"
		orbit_distance = 40
		orbit_angle = -160
		size = 35
		has_ring = no
		entity = "gas_giant_jupiter_entity"
		change_orbit = 6

		moon = {
			name = "NAME_moth_Io"
			class = "pc_molten"
			size = 6
			orbit_distance = 10
			orbit_angle = 110
			has_ring = no
		}
		moon = {
			name = "NAME_moth_Europa"
			class = "pc_frozen"
			size = 6
			orbit_distance = 2.5
			orbit_angle = 10
			has_ring = no
		}
		moon = {
			name = "NAME_moth_Ganymede"
			class = "pc_frozen"
			size = 9
			orbit_distance = 2.5
			orbit_angle = 80
			has_ring = no
		}
		moon = {
			name = "NAME_moth_Callisto"
			class = "pc_frozen"
			size = 7
			orbit_distance = 2.5
			orbit_angle = -155
			has_ring = no
		}
	}

	planet = {
		name = "NAME_moth_Saturn"
		class = "pc_gas_giant"
		orbit_distance = 25
		orbit_angle = 170
		size = 30
		has_ring = yes
		entity = "gas_giant_05_entity"
		change_orbit = 7

		moon = {
			name = "NAME_moth_Titan"
			class = "pc_frozen"
			size = 8
			orbit_distance = 12
			orbit_angle = 320
			has_ring = no
		}
	}

	planet = {
		name = "NAME_moth_Uranus"
		class = "pc_gas_giant"
		orbit_distance = 25
		orbit_angle = 125
		size = 20
		has_ring = no
		entity = "gas_giant_03_entity"
	}

	planet = {
		name = "NAME_moth_Neptune"
		class = "pc_gas_giant"
		orbit_distance = 25
		orbit_angle = -195
		size = 20
		has_ring = no
		entity = "gas_giant_02_entity"
		change_orbit = 4

		moon = {
			name = "NAME_moth_Triton"
			class = "pc_frozen"
			size = 6
			orbit_distance = 7
			orbit_angle = 115
			has_ring = no
		}
	}

	planet = {
		name = "NAME_moth_134340_Pluto"
		class = "pc_asteroid"
		orbit_distance = 30
		orbit_angle = -210
		size = 5
		has_ring = no
	}

	planet = {
		name = "NAME_moth_136472_Makemake"
		class = "pc_ice_asteroid"
		orbit_distance = 0
		orbit_angle = -95
		size = 5
		has_ring = no
	}

	planet = {
		name = "NAME_moth_136108_Haumea"
		class = "pc_ice_asteroid"
		orbit_distance = 0
		orbit_angle = 285
		size = 5
		has_ring = no
	}

	planet = {
		name = "NAME_moth_20000_Varuna"
		class = "pc_ice_asteroid"
		orbit_distance = 0
		orbit_angle = -80
		size = 5
		has_ring = no
	}

	#neighbor_system = {
	#	hyperlane_jumps = { min = 1 max = @jumps }
	#	initializer = "sol_neighbor_t1"
	#}
}

hk648_moth_system_03 = {
	name = "NAME_moth_system_03"

	class = "sc_g"
	
	#小行星带
	asteroid_belt = {
		type = icy_asteroid_belt
		radius = 250
	}
	asteroid_belt = {
		type = icy_asteroid_belt
		radius = 200
	}


	flags = { hk648_moth_system_03 }

	#usage = custom_empire

	init_effect = {
		every_neighbor_system = {
			set_star_flag = empire_cluster
			every_neighbor_system = {
				set_star_flag = empire_cluster
			}
		}
		generate_home_system_resources = yes
		hk648_planet_add_resources = yes
		create_starbase = {
			owner = event_target:hk648_fallen_empire_moth
			size = "starbase_citadel"
			module = "shipyard"
			module = "shipyard"
			module = "shipyard"
			module = "shipyard"
			building = "colossus_yards"
			building = "titan_yards"
		}
		#save_global_event_target_as = hk648_moth_system_03
		every_system_planet = {
			limit = {
				has_deposit_for = shipclass_research_station
				has_research_station = no
			}
			create_research_station = {
				owner = event_target:hk648_fallen_empire_moth
			}
		}
		every_system_planet = {
			limit = {
				has_deposit_for = shipclass_mining_station
				has_mining_station = no
			}
			create_mining_station = {
				owner = event_target:hk648_fallen_empire_moth
			}
		}
		set_star_flag = sealed_system
	}

	planet = {
		#name = "守护者Ⅲ"
		class = "pc_g_star"
		orbit_distance = 0
		orbit_angle = 1
		size = 30
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅲ-Ⅰ"
		class = random
		
		orbit_distance = 50
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}

	planet = {
		name = "NAME_moth_hkrobot_planet_3"
		#class = "pc_continental"
		
		class = "pc_honkai_elf_municipality"
		
		orbit_distance = 50
		orbit_angle = 120
		size = 18
		starting_planet = yes
		has_ring = no
		entity = "continental_planet_earth_entity"
		deposit_blockers = none
		modifiers = none
		flags = { planet_hk_moth_robot }

		init_effect = {
			save_global_event_target_as = hk648_moth_hkrobot_planet1
			prevent_anomaly = yes
			set_owner = event_target:hk648_fallen_empire_moth
			while = {
				count = 10
				create_pop = {
					species = event_target:hk648_moth_species
				}
			}
			while = {
				count = 40
				create_pop = {
					species = event_target:hk648_robot_species
				}
			}
			while = {
				count = 30
				add_district = district_hk648_moth_elf_city
			}
			add_building = building_hk648_moth_elf_Parliament
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_singularity
			add_building = building_hk648_moth_singularity
			add_building = building_hk648_moth_moonlight_throne
			add_building = building_hk648_moth_moonlight_throne
		}

		moon = {
			name = "NAME_moth_hkrobot_planet_moon_2"
			class = "pc_barren_cold"
			size = 5
			orbit_distance = 12
			orbit_angle = 60
			has_ring = no
			entity = "cold_barren_planet_luna_entity"
			flags = { d_hk_minerals_328 }
			init_effect = {
				
			}
		}
		moon = {
			name = "NAME_moth_hkrobot_planet_moon_3"
			class = "pc_barren_cold"
			size = 5
			orbit_distance = 0
			orbit_angle = 120
			has_ring = no
			entity = "cold_barren_planet_luna_entity"
			flags = { d_hk_alloys_328 }
			init_effect = {
				
			}
		}
		moon = {
			name = "NAME_moth_hkrobot_planet_moon_1"
			class = "pc_barren_cold"
			size = 5
			orbit_distance = 0
			orbit_angle = 120
			has_ring = no
			entity = "cold_barren_planet_luna_entity"
			flags = { d_hk_energy_328 }
			init_effect = {
				
			}
		}
	}
	
	planet = {
		#name = "守护者Ⅲ-Ⅱ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅲ-Ⅲ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅲ-Ⅳ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅲ-Ⅴ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅲ-Ⅵ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
}

hk648_moth_system_06 = {
	name = "NAME_moth_system_06"

	class = "sc_g"
	
	#小行星带
	asteroid_belt = {
		type = icy_asteroid_belt
		radius = 250
	}
	asteroid_belt = {
		type = icy_asteroid_belt
		radius = 75
	}


	flags = { hk648_moth_system_06 }

	#usage = custom_empire

	init_effect = {
		every_neighbor_system = {
			set_star_flag = empire_cluster
			every_neighbor_system = {
				set_star_flag = empire_cluster
			}
		}
		generate_home_system_resources = yes
		hk648_planet_add_resources = yes
		create_starbase = {
			owner = event_target:hk648_fallen_empire_moth
			size = "starbase_citadel"
			module = "shipyard"
			module = "shipyard"
			module = "shipyard"
			module = "shipyard"
			building = "colossus_yards"
			building = "titan_yards"
		}
		#save_global_event_target_as = hk648_moth_system_06
		every_system_planet = {
			limit = {
				has_deposit_for = shipclass_research_station
				has_research_station = no
			}
			create_research_station = {
				owner = event_target:hk648_fallen_empire_moth
			}
		}
		every_system_planet = {
			limit = {
				has_deposit_for = shipclass_mining_station
				has_mining_station = no
			}
			create_mining_station = {
				owner = event_target:hk648_fallen_empire_moth
			}
		}
		set_star_flag = sealed_system
	}

	planet = {
		#name = "守护者Ⅵ"
		class = "pc_g_star"
		orbit_distance = 0
		orbit_angle = 1
		size = 30
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅵ-Ⅰ"
		class = random
		
		orbit_distance = 50
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅵ-Ⅱ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅵ-Ⅲ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}

	planet = {
		name = "NAME_moth_hkrobot_planet_6"
		class = "pc_honkai_elf_municipality"
		
		#orbit_distance = 50
		orbit_angle = 120
		size = 22
		starting_planet = yes
		has_ring = no
		entity = "continental_planet_earth_entity"
		deposit_blockers = none
		modifiers = none
		flags = { planet_hk_moth_robot }

		init_effect = {
			save_global_event_target_as = hk648_moth_hkrobot_planet2
			prevent_anomaly = yes
			set_owner = event_target:hk648_fallen_empire_moth
			while = {
				count = 10
				create_pop = {
					species = event_target:hk648_moth_species
				}
			}
			while = {
				count = 40
				create_pop = {
					species = event_target:hk648_robot_species
				}
			}
			while = {
				count = 30
				add_district = district_hk648_moth_elf_city
			}
			add_building = building_hk648_moth_elf_Parliament
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_singularity
			add_building = building_hk648_moth_singularity
			add_building = building_hk648_moth_moonlight_throne
			add_building = building_hk648_moth_moonlight_throne
		}

		moon = {
			name = "NAME_moth_hkrobot_planet_moon_2"
			class = "pc_barren_cold"
			size = 5
			orbit_distance = 12
			orbit_angle = 60
			has_ring = no
			entity = "cold_barren_planet_luna_entity"
			flags = { d_hk_minerals_328 }
			init_effect = {
				
			}
		}
		moon = {
			name = "NAME_moth_hkrobot_planet_moon_3"
			class = "pc_barren_cold"
			size = 5
			orbit_distance = 0
			orbit_angle = 120
			has_ring = no
			entity = "cold_barren_planet_luna_entity"
			flags = { d_hk_alloys_328 }
			init_effect = {
				
			}
		}
		moon = {
			name = "NAME_moth_hkrobot_planet_moon_1"
			class = "pc_barren_cold"
			size = 5
			orbit_distance = 0
			orbit_angle = 120
			has_ring = no
			entity = "cold_barren_planet_luna_entity"
			flags = { d_hk_energy_328 }
			init_effect = {
				
			}
		}
	}
	
	planet = {
		#name = "守护者Ⅵ-Ⅳ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅵ-Ⅴ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅵ-Ⅵ"
		class = random
		
		orbit_angle = random
		size = 25
		has_ring = no
		moon = {
			#name = 卫星Ⅰ
			class = random
			min_size >= 4
			max_size <= 7
			orbit_angle = random
		}
		moon = {
			#name = 卫星Ⅱ
			class = random
			min_size >= 4
			max_size <= 7
			orbit_angle = random
		}
	}
	
	planet = {
		#name = "守护者Ⅵ-Ⅶ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅵ-Ⅷ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
}

hk648_moth_system_09 = {
	name = "NAME_moth_system_09"

	class = "sc_g"
	
	#小行星带
	asteroid_belt = {
		type = icy_asteroid_belt
		radius = 250
	}
	asteroid_belt = {
		type = icy_asteroid_belt
		radius = 75
	}


	flags = { hk648_moth_system_09 }

	#usage = custom_empire

	init_effect = {
		every_neighbor_system = {
			set_star_flag = empire_cluster
			every_neighbor_system = {
				set_star_flag = empire_cluster
			}
		}
		generate_home_system_resources = yes
		hk648_planet_add_resources = yes
		create_starbase = {
			owner = event_target:hk648_fallen_empire_moth
			size = "starbase_citadel"
			module = "shipyard"
			module = "shipyard"
			module = "shipyard"
			module = "shipyard"
			building = "colossus_yards"
			building = "titan_yards"
		}
		#save_global_event_target_as = hk648_moth_system_09
		every_system_planet = {
			limit = {
				has_deposit_for = shipclass_research_station
				has_research_station = no
			}
			create_research_station = {
				owner = event_target:hk648_fallen_empire_moth
			}
		}
		every_system_planet = {
			limit = {
				has_deposit_for = shipclass_mining_station
				has_mining_station = no
			}
			create_mining_station = {
				owner = event_target:hk648_fallen_empire_moth
			}
		}
		set_star_flag = sealed_system
	}

	planet = {
		#name = "守护者Ⅸ"
		class = "pc_g_star"
		orbit_distance = 0
		orbit_angle = 1
		size = 30
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅸ-Ⅰ"
		class = random
		
		orbit_distance = 50
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅸ-Ⅱ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅸ-Ⅲ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}

	planet = {
		name = "NAME_moth_hkrobot_planet_9"
		class = "pc_honkai_elf_municipality"
		
		#orbit_distance = 50
		orbit_angle = 120
		size = 22
		starting_planet = yes
		has_ring = no
		entity = "continental_planet_earth_entity"
		deposit_blockers = none
		modifiers = none
		flags = { planet_hk_moth_robot }

		init_effect = {
			save_global_event_target_as = hk648_moth_hkrobot_planet3
			prevent_anomaly = yes
			set_owner = event_target:hk648_fallen_empire_moth
			while = {
				count = 10
				create_pop = {
					species = event_target:hk648_moth_species
				}
			}
			while = {
				count = 40
				create_pop = {
					species = event_target:hk648_robot_species
				}
			}
			while = {
				count = 30
				add_district = district_hk648_moth_elf_city
			}
			add_building = building_hk648_moth_elf_Parliament
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_singularity
			add_building = building_hk648_moth_singularity
			add_building = building_hk648_moth_moonlight_throne
			add_building = building_hk648_moth_moonlight_throne
		}

		moon = {
			name = "NAME_moth_hkrobot_planet_moon_2"
			class = "pc_barren_cold"
			size = 5
			orbit_distance = 12
			orbit_angle = 60
			has_ring = no
			entity = "cold_barren_planet_luna_entity"
			flags = { d_hk_minerals_328 }
			init_effect = {
				
			}
		}
		moon = {
			name = "NAME_moth_hkrobot_planet_moon_3"
			class = "pc_barren_cold"
			size = 5
			orbit_distance = 0
			orbit_angle = 120
			has_ring = no
			entity = "cold_barren_planet_luna_entity"
			flags = { d_hk_alloys_328 }
			init_effect = {
				
			}
		}
		moon = {
			name = "NAME_moth_hkrobot_planet_moon_1"
			class = "pc_barren_cold"
			size = 5
			orbit_distance = 0
			orbit_angle = 120
			has_ring = no
			entity = "cold_barren_planet_luna_entity"
			flags = { d_hk_energy_328 }
			init_effect = {
				
			}
		}
	}
	
	planet = {
		#name = "守护者Ⅸ-Ⅳ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅸ-Ⅴ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅸ-Ⅵ"
		class = random
		
		orbit_angle = random
		size = 25
		has_ring = no
		moon = {
			#name = 卫星Ⅰ
			class = random
			min_size >= 4
			max_size <= 7
			orbit_angle = random
		}
		moon = {
			#name = 卫星Ⅱ
			class = random
			min_size >= 4
			max_size <= 7
			orbit_angle = random
		}
		moon = {
			#name = 卫星Ⅲ
			class = random
			min_size >= 4
			max_size <= 7
			orbit_angle = random
		}
	}
	
	planet = {
		#name = "守护者Ⅸ-Ⅶ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "守护者Ⅸ-Ⅷ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
}

#往世乐土
hk648_moth_system_13 = {
	name = "NAME_moth_system_13"

	class = sc_black_hole
	
	#小行星带
	asteroid_belt = {
		type = icy_asteroid_belt
		radius = 250
	}
	asteroid_belt = {
		type = icy_asteroid_belt
		radius = 75
	}


	flags = { hk648_moth_system_13 }

	#usage = custom_empire

	init_effect = {
		every_neighbor_system = {
			set_star_flag = empire_cluster
			every_neighbor_system = {
				set_star_flag = empire_cluster
			}
		}
		hk648_planet_add_resources = yes
		create_starbase = {
			owner = event_target:hk648_fallen_empire_moth
			size = "starbase_citadel"
			module = "shipyard"
			module = "shipyard"
			module = "shipyard"
			module = "shipyard"
			building = "colossus_yards"
			building = "titan_yards"
		}
		#save_global_event_target_as = hk648_moth_system_13
		every_system_planet = {
			limit = {
				has_deposit_for = shipclass_research_station
				has_research_station = no
			}
			create_research_station = {
				owner = event_target:hk648_fallen_empire_moth
			}
		}
		every_system_planet = {
			limit = {
				has_deposit_for = shipclass_mining_station
				has_mining_station = no
			}
			create_mining_station = {
				owner = event_target:hk648_fallen_empire_moth
			}
		}
		set_star_flag = sealed_system
	}

	planet = {
		name = "NAME_moth_system_13"
		class = "pc_black_hole"
		orbit_distance = 0
		orbit_angle = 0
		size = 30
		has_ring = no
		init_effect = {
			create_archaeological_site = hk648_elysian_realm
		}
	}
	
	planet = {
		name = "NAME_moth_system_13_planet1"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 150
		orbit_angle = 76
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet1
		}
	}
	planet = {
		name = "NAME_moth_system_13_planet2"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 0
		orbit_angle = 27
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet2
		}
	}
	planet = {
		name = "NAME_moth_system_13_planet3"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 0
		orbit_angle = 27
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet3
		}
	}
	planet = {
		name = "NAME_moth_system_13_planet4"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 0
		orbit_angle = 27
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet4
		}
	}
	planet = {
		name = "NAME_moth_system_13_planet5"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 0
		orbit_angle = 27
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet5
		}
	}
	planet = {
		name = "NAME_moth_system_13_planet6"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 0
		orbit_angle = 28
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet6
		}
	}
	planet = {
		name = "NAME_moth_system_13_planet7"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 0
		orbit_angle = 28
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet7
		}
	}
	planet = {
		name = "NAME_moth_system_13_planet8"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 0
		orbit_angle = 28
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet8
		}
	}
	planet = {
		name = "NAME_moth_system_13_planet9"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 0
		orbit_angle = 28
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet9
		}
	}
	planet = {
		name = "NAME_moth_system_13_planet10"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 0
		orbit_angle = 28
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet10
		}
	}
	planet = {
		name = "NAME_moth_system_13_planet11"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 0
		orbit_angle = 28
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet11
		}
	}
	planet = {
		name = "NAME_moth_system_13_planet12"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 0
		orbit_angle = 28
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet12
		}
	}
	planet = {
		name = "NAME_moth_system_13_planet13"
		class = "pc_black_hole"
		flags = { hk648_moth_13_hero}
		
		orbit_distance = 0
		orbit_angle = 28
		size = 20
		has_ring = no
		init_effect = {
			save_global_event_target_as = moth_system_13_planet13
		}
	}
}


hk648_moth_system_06_a = {
	name = "NAME_moth_hkrobot_outpost"

	class = "sc_g"
	
	#小行星带
	asteroid_belt = {
		type = icy_asteroid_belt
		radius = 250
	}
	asteroid_belt = {
		type = icy_asteroid_belt
		radius = 75
	}


	flags = { hk648_moth_system_06_a }

	#usage = custom_empire

	init_effect = {
		every_neighbor_system = {
			set_star_flag = empire_cluster
			every_neighbor_system = {
				set_star_flag = empire_cluster
			}
		}
		generate_home_system_resources = yes
		hk648_planet_add_resources = yes
		create_starbase = {
			owner = event_target:hk648_fallen_empire_moth
			size = "starbase_citadel"
			module = "hangar_bay"
			module = "hangar_bay"
			module = "hangar_bay"
			module = "hangar_bay"
			module = "hangar_bay"
			module = "hangar_bay"
		}
		#save_global_event_target_as = hk648_moth_system_06_a
		every_system_planet = {
			limit = {
				has_deposit_for = shipclass_research_station
				has_research_station = no
			}
			create_research_station = {
				owner = event_target:hk648_fallen_empire_moth
			}
		}
		every_system_planet = {
			limit = {
				has_deposit_for = shipclass_mining_station
				has_mining_station = no
			}
			create_mining_station = {
				owner = event_target:hk648_fallen_empire_moth
			}
		}
		set_star_flag = sealed_system
	}

	planet = {
		#name = "前哨站"
		class = "pc_g_star"
		orbit_distance = 0
		orbit_angle = 1
		size = 30
		has_ring = no
	}
	
	planet = {
		#name = "前哨站-Ⅰ"
		class = random
		
		orbit_distance = 50
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "前哨站-Ⅱ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
		moon = {
			#name = 卫星Ⅰ
			class = random
			min_size >= 2
			max_size <= 5
			orbit_angle = random
		}
		moon = {
			#name = 卫星Ⅱ
			class = random
			min_size >= 2
			max_size <= 5
			orbit_angle = random
		}
		moon = {
			#name = 卫星Ⅲ
			class = random
			min_size >= 2
			max_size <= 5
			orbit_angle = random
		}
	}
	
	planet = {
		#name = "前哨站-Ⅲ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}

	planet = {
		name = "NAME_moth_hkrobot_planet_outpost"
		class = "pc_honkai_elf_municipality"
		
		#orbit_distance = 50
		orbit_angle = 120
		size = 25
		starting_planet = yes
		has_ring = no
		entity = "continental_planet_earth_entity"
		deposit_blockers = none
		modifiers = none
		flags = { planet_hk_moth_robot }

		init_effect = {
			save_global_event_target_as = hk648_moth_hkrobot_planet4
			prevent_anomaly = yes
			set_owner = event_target:hk648_fallen_empire_moth
			while = {
				count = 10
				create_pop = {
					species = event_target:hk648_moth_species
				}
			}
			while = {
				count = 40
				create_pop = {
					species = event_target:hk648_robot_species
				}
			}
			while = {
				count = 30
				add_district = district_hk648_moth_elf_city
			}
			add_building = building_hk648_moth_elf_Parliament
			
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_elf_Paradise
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_elf_fortress
			add_building = building_hk648_moth_singularity
			add_building = building_hk648_moth_moonlight_throne
		}
		
	}
	
	planet = {
		#name = "前哨站-Ⅳ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "前哨站-Ⅴ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "前哨站-Ⅵ"
		class = random
		
		orbit_angle = random
		size = 25
		has_ring = no
		moon = {
			#name = 卫星Ⅰ
			class = random
			min_size >= 4
			max_size <= 7
			orbit_angle = random
		}
		moon = {
			#name = 卫星Ⅱ
			class = random
			min_size >= 4
			max_size <= 7
			orbit_angle = random
		}
		moon = {
			#name = 卫星Ⅲ
			class = random
			min_size >= 4
			max_size <= 7
			orbit_angle = random
		}
	}
	
	planet = {
		#name = "前哨站-Ⅶ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
	}
	
	planet = {
		#name = "前哨站-Ⅷ"
		class = random
		
		orbit_angle = random
		min_size >= 12
		max_size <= 20
		has_ring = no
		moon = {
			#name = 卫星Ⅰ
			class = random
			min_size >= 5
			max_size <= 7
			orbit_angle = random
		}
		moon = {
			#name = 卫星Ⅱ
			class = random
			min_size >= 4
			max_size <= 8
			orbit_angle = random
		}
		moon = {
			#name = 卫星Ⅲ
			class = random
			min_size >= 4
			max_size <= 7
			orbit_angle = random
		}
	}
}

hk648_moth_system_06_b = {
	name = "NAME_moth_hkrobot_outpost2"

	class = "sc_g"
	
	#小行星带

	flags = { hk648_moth_system_06_b }

	#usage = custom_empire

	init_effect = {
		every_neighbor_system = {
			set_star_flag = empire_cluster
			every_neighbor_system = {
				set_star_flag = empire_cluster
			}
		}
		generate_home_system_resources = yes
		hk648_planet_add_resources = yes
		create_starbase = {
			owner = event_target:hk648_fallen_empire_moth
			size = "starbase_citadel"
			module = "shipyard"
			module = "shipyard"
			module = "shipyard"
			module = "shipyard"
			building = "colossus_yards"
			building = "titan_yards"
		}
		#save_global_event_target_as = hk648_moth_system_06_b
		every_system_planet = {
			limit = {
				has_deposit_for = shipclass_research_station
				has_research_station = no
			}
			create_research_station = {
				owner = event_target:hk648_fallen_empire_moth
			}
		}
		every_system_planet = {
			limit = {
				has_deposit_for = shipclass_mining_station
				has_mining_station = no
			}
			create_mining_station = {
				owner = event_target:hk648_fallen_empire_moth
			}
		}
	}

	planet = {
		#name = "前哨站"
		class = "pc_g_star"
		orbit_distance = 0
		orbit_angle = 1
		size = 30
		has_ring = no
	}

	planet = {
		name = "NAME_moth_hkrobot_planet_outpost2"
		class = "pc_continental"
		
		orbit_distance = 75
		orbit_angle = random
		size = 25
		starting_planet = yes
		has_ring = no
		entity = "continental_planet_earth_entity"
		deposit_blockers = none
		modifiers = none
		flags = { planet_hk_moth_robot }

		init_effect = {
			save_global_event_target_as = hk648_moth_planet
			prevent_anomaly = yes
			set_owner = event_target:hk648_fallen_empire_moth
			while = {
				count = 20
				create_pop = {
					species = event_target:hk648_moth_species
				}
			}
			while = {
				count = 10
				create_pop = {
					species = event_target:hk648_robot_species
				}
			}
			while = {
				count = 10
				add_district = district_hk648_moth_city
			}
			add_building = building_hk648_moth_Parliament
			add_building = building_hk648_moth_observation_outpost
			add_building = building_hk648_moth_observation_outpost
			add_building = building_hk648_moth_observation_outpost
			add_building = building_hk648_moth_elf_fortress
		}
	}
}

#往世乐土中转站
hk648_moth_system_12_a = {
	name = "NAME_moth_transfer_station_elysian_realm"

	class = "sc_g"
	
	#小行星带

	flags = { hk648_moth_system_12_a }

	#usage = custom_empire

	init_effect = {
		#save_global_event_target_as = hk648_moth_system_12_a
		set_star_flag = sealed_system
	}
}